import{c as J}from"./chunk-DGQPEVM4.js";import{l as oe,m as re,n as ae}from"./chunk-QQQAYW37.js";import{$b as E,Da as a,Fb as R,Gb as $,Hb as h,Ib as S,Jb as y,Ma as P,Qa as _,Vb as B,Wa as p,Wb as U,Xb as A,Ya as W,Za as O,Zb as G,_ as j,db as n,eb as t,fa as T,fb as d,ga as g,gb as F,gc as Y,ha as f,hb as D,hc as I,ib as x,ic as L,jc as Q,mc as H,na as k,nb as v,nc as Z,ob as s,oc as K,pc as X,qc as ee,rc as te,sb as V,tb as N,tc as ne,ub as q,vb as w,vc as ie,wb as i,xb as C,yb as m,zb as z}from"./chunk-BK7RVTCM.js";var le=o=>({"col-12":o}),me=(o,r,e)=>({"border-success":o,"border-danger":r,"border-warning":e});function ve(o,r){if(o&1&&(n(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h5",8),i(5,"Approval Progress"),t()(),n(6,"div",9)(7,"div",18)(8,"span"),i(9,"Required Approvals"),t(),n(10,"span",19),i(11),t()(),d(12,"ngb-progressbar",20),t()()()()),o&2){let e=s();a(11),z("",e.completedRequired," / ",e.totalRequired," Complete"),a(),p("value",e.progressPercentage)("striped",!0)("animated",e.workflow.status==="pending")}}function ue(o,r){if(o&1&&(n(0,"div",32)(1,"small",33)(2,"strong"),i(3),h(4,"titlecase"),t(),i(5),t()()),o&2){let e=s().$implicit,l=s(2);a(3),m("",S(4,2,e.status)," on:"),a(2),m(" ",l.formatDate(e.timestamp)," ")}}function ge(o,r){if(o&1&&(n(0,"div",21)(1,"small",34)(2,"strong"),i(3,"Comments:"),t()(),n(4,"div",35)(5,"small"),i(6),t()()()),o&2){let e=s().$implicit;a(6),C(e.comments)}}function fe(o,r){if(o&1){let e=x();n(0,"div",21)(1,"button",38),v("click",function(){g(e);let c=s(2).$implicit,u=s(2),b=w(41);return f(u.openSupervisorSelectionModal(b,c))}),d(2,"i",39),i(3," Select Supervisor & Approve "),t(),n(4,"button",40),v("click",function(){g(e);let c=s(2).$implicit,u=s(2),b=w(45);return f(u.openRejectionModal(b,c))}),d(5,"i",41),i(6," Reject "),t()()}if(o&2){let e=s(4);a(),p("disabled",e.readonly),a(3),p("disabled",e.readonly)}}function _e(o,r){if(o&1){let e=x();n(0,"div")(1,"button",42),v("click",function(){g(e);let c=s(2).$implicit,u=s(2),b=w(43);return f(u.openApprovalModal(b,c))}),d(2,"i",43),i(3," Approve "),t(),n(4,"button",40),v("click",function(){g(e);let c=s(2).$implicit,u=s(2),b=w(45);return f(u.openRejectionModal(b,c))}),d(5,"i",41),i(6," Reject "),t()()}if(o&2){let e=s(4);a(),p("disabled",e.readonly),a(3),p("disabled",e.readonly)}}function be(o,r){if(o&1&&(n(0,"div",36),_(1,fe,7,2,"div",29)(2,_e,7,2,"div",37),t()),o&2){let e=s().$implicit,l=s(2);a(),p("ngIf",l.needsSupervisorSelection(e)),a(),p("ngIf",!l.needsSupervisorSelection(e))}}function Ce(o,r){o&1&&(n(0,"span"),i(1," to select supervisor"),t())}function xe(o,r){if(o&1&&(n(0,"div",36)(1,"small",33),d(2,"i",44),i(3),_(4,Ce,2,0,"span",37),t()()),o&2){let e=s().$implicit;a(3),m(" Waiting for ",e.approverName," "),a(),p("ngIf",e.needsSupervisorSelection)}}function we(o,r){if(o&1&&(n(0,"div",45)(1,"div",46)(2,"small")(3,"strong"),i(4,"Selected Supervisor:"),t(),i(5),t()()()),o&2){let e=s().$implicit;a(5),m(" ",e.selectedSupervisor,"")}}function he(o,r){if(o&1&&(n(0,"div",23)(1,"div",24)(2,"div",25)(3,"span",19),i(4),t(),n(5,"span",26),d(6,"i"),i(7),h(8,"titlecase"),t()(),n(9,"div",9)(10,"p",27)(11,"strong"),i(12,"Approver:"),t(),i(13),t(),_(14,ue,6,4,"div",28)(15,ge,7,1,"div",29)(16,be,3,2,"div",30)(17,xe,5,2,"div",30)(18,we,6,1,"div",31),t()()()),o&2){let e=r.$implicit,l=s(2);p("ngClass",R(15,le,l.compactMode)),a(),p("ngClass",$(17,me,e.status==="approved",e.status==="rejected",e.status==="pending")),a(3),C(e.approverRole),a(),p("ngClass",l.getStatusBadgeClass(e.status)),a(),O(l.getStatusIcon(e.status)),a(),m(" ",S(8,13,e.status)," "),a(6),m(" ",e.approverName," "),a(),p("ngIf",e.timestamp),a(),p("ngIf",e.comments),a(),p("ngIf",l.canUserApprove(e)),a(),p("ngIf",e.status==="pending"&&!l.canUserApprove(e)),a(),p("ngIf",e.selectedSupervisor)}}function Se(o,r){if(o&1&&(n(0,"div",4)(1,"div",5)(2,"h5",21),i(3,"Required Approvals"),t(),n(4,"div",10),_(5,he,19,21,"div",22),t()()()),o&2){let e=s();a(5),p("ngForOf",e.requiredApprovals)}}function ke(o,r){if(o&1&&(n(0,"div",32)(1,"small",33)(2,"strong"),i(3),h(4,"titlecase"),t(),i(5),t()()),o&2){let e=s().$implicit,l=s(2);a(3),m("",S(4,2,e.status)," on:"),a(2),m(" ",l.formatDate(e.timestamp)," ")}}function Me(o,r){if(o&1&&(n(0,"div",21)(1,"small",34)(2,"strong"),i(3,"Comments:"),t()(),n(4,"div",35)(5,"small"),i(6),t()()()),o&2){let e=s().$implicit;a(6),C(e.comments)}}function Pe(o,r){if(o&1){let e=x();n(0,"div",36)(1,"button",42),v("click",function(){g(e);let c=s().$implicit,u=s(2),b=w(43);return f(u.openApprovalModal(b,c))}),d(2,"i",43),i(3," Approve "),t(),n(4,"button",40),v("click",function(){g(e);let c=s().$implicit,u=s(2),b=w(45);return f(u.openRejectionModal(b,c))}),d(5,"i",41),i(6," Reject "),t()()}if(o&2){let e=s(3);a(),p("disabled",e.readonly),a(3),p("disabled",e.readonly)}}function Oe(o,r){if(o&1&&(n(0,"div",36)(1,"small",33),d(2,"i",44),i(3),t()()),o&2){let e=s().$implicit;a(3),m(" Waiting for ",e.approverName," ")}}function ye(o,r){if(o&1&&(n(0,"div",23)(1,"div",47)(2,"div",48)(3,"span",19),i(4),n(5,"small",33),i(6,"(Optional)"),t()(),n(7,"span",26),d(8,"i"),i(9),h(10,"titlecase"),t()(),n(11,"div",9)(12,"p",27)(13,"strong"),i(14,"Approver:"),t(),i(15),t(),_(16,ke,6,4,"div",28)(17,Me,7,1,"div",29)(18,Pe,7,2,"div",30)(19,Oe,4,1,"div",30),t()()()),o&2){let e=r.$implicit,l=s(2);p("ngClass",R(13,le,l.compactMode)),a(4),m("",e.approverRole," "),a(3),p("ngClass",l.getStatusBadgeClass(e.status)),a(),O(l.getStatusIcon(e.status)),a(),m(" ",S(10,11,e.status)," "),a(6),m(" ",e.approverName," "),a(),p("ngIf",e.timestamp),a(),p("ngIf",e.comments),a(),p("ngIf",l.canUserApprove(e)),a(),p("ngIf",e.status==="pending"&&!l.canUserApprove(e))}}function Ae(o,r){if(o&1&&(n(0,"div",4)(1,"div",5)(2,"h5",21),i(3,"Optional Approvals"),t(),n(4,"div",10),_(5,ye,20,15,"div",22),t()()()),o&2){let e=s();a(5),p("ngForOf",e.optionalApprovals)}}function Ee(o,r){if(o&1&&(n(0,"option",67),i(1),t()),o&2){let e=r.$implicit;p("value",e),a(),m(" ",e," ")}}function Ie(o,r){o&1&&(n(0,"div",68),i(1," Please select a supervisor for pre-approval "),t())}function je(o,r){if(o&1){let e=x();n(0,"div",49)(1,"h4",50),i(2,"Select Supervisor for Pre-Approval"),t(),n(3,"button",51),v("click",function(){let c=g(e).$implicit;return f(c.dismiss())}),t()(),n(4,"form",52),v("ngSubmit",function(){g(e);let c=s();return f(c.submitSupervisorSelection())}),n(5,"div",53)(6,"div",54),d(7,"i",14),i(8," For Expert and Consultant positions, you need to select a supervisor who will provide pre-approval. "),t(),n(9,"div",21)(10,"label",55),i(11," Select Supervisor "),n(12,"span",56),i(13,"*"),t()(),n(14,"select",57)(15,"option",58),i(16,"-- Choose Supervisor --"),t(),_(17,Ee,2,2,"option",59),t(),_(18,Ie,2,0,"div",60),t(),n(19,"div",21)(20,"label",61),i(21,"Comments (Optional)"),t(),d(22,"textarea",62),t()(),n(23,"div",63)(24,"button",64),v("click",function(){let c=g(e).$implicit;return f(c.dismiss())}),i(25,"Cancel"),t(),n(26,"button",65),d(27,"i",66),i(28," Select & Approve "),t()()()}if(o&2){let e=s();a(4),p("formGroup",e.supervisorSelectionForm),a(10),W("is-invalid",(e.supervisorSelectionControl==null?null:e.supervisorSelectionControl.invalid)&&(e.supervisorSelectionControl==null?null:e.supervisorSelectionControl.touched)),a(3),p("ngForOf",e.workflow.availableSupervisors),a(),p("ngIf",(e.supervisorSelectionControl==null?null:e.supervisorSelectionControl.invalid)&&(e.supervisorSelectionControl==null?null:e.supervisorSelectionControl.touched)),a(8),p("disabled",e.supervisorSelectionForm.invalid)}}function We(o,r){if(o&1){let e=x();n(0,"div",49)(1,"h4",50),i(2,"Approve Position Description"),t(),n(3,"button",51),v("click",function(){let c=g(e).$implicit;return f(c.dismiss())}),t()(),n(4,"form",52),v("ngSubmit",function(){g(e);let c=s();return f(c.submitApproval())}),n(5,"div",53)(6,"p"),i(7,"Are you sure you want to approve this position description?"),t(),n(8,"div",21)(9,"label",69),i(10,"Comments (Optional)"),t(),d(11,"textarea",70),t()(),n(12,"div",63)(13,"button",64),v("click",function(){let c=g(e).$implicit;return f(c.dismiss())}),i(14,"Cancel"),t(),n(15,"button",71),d(16,"i",43),i(17," Approve "),t()()()}if(o&2){let e=s();a(4),p("formGroup",e.approvalForm)}}function Re(o,r){if(o&1&&(n(0,"div",68),i(1),t()),o&2){let e=s(2);a(),m(" ",e.getRejectionErrorMessage()," ")}}function Te(o,r){if(o&1){let e=x();n(0,"div",49)(1,"h4",50),i(2,"Reject Position Description"),t(),n(3,"button",51),v("click",function(){let c=g(e).$implicit;return f(c.dismiss())}),t()(),n(4,"form",52),v("ngSubmit",function(){g(e);let c=s();return f(c.submitRejection())}),n(5,"div",53)(6,"div",72),d(7,"i",73),i(8," Rejecting this position description will require resubmission after addressing your concerns. "),t(),n(9,"div",21)(10,"label",74),i(11," Rejection Reason "),n(12,"span",56),i(13,"*"),t()(),d(14,"textarea",75),_(15,Re,2,1,"div",60),n(16,"div",76),i(17,"Please provide clear feedback to help improve the position description."),t()()(),n(18,"div",63)(19,"button",64),v("click",function(){let c=g(e).$implicit;return f(c.dismiss())}),i(20,"Cancel"),t(),n(21,"button",77),d(22,"i",41),i(23," Reject "),t()()()}if(o&2){let e=s();a(4),p("formGroup",e.rejectionForm),a(10),W("is-invalid",(e.rejectionCommentsControl==null?null:e.rejectionCommentsControl.invalid)&&(e.rejectionCommentsControl==null?null:e.rejectionCommentsControl.touched)),a(),p("ngIf",(e.rejectionCommentsControl==null?null:e.rejectionCommentsControl.invalid)&&(e.rejectionCommentsControl==null?null:e.rejectionCommentsControl.touched)),a(6),p("disabled",!e.isRejectionFormValid())}}var M=class o{modalService=j(oe);formBuilder=j(ne);workflow={pdId:"PD-2025-001",pdTitle:"Senior Software Engineer - Frontend Development",pdType:"Expert and Consultant",status:"pending",submittedBy:"HR Department",submittedDate:"2025-07-30T09:00:00Z",availableSupervisors:["Alice Johnson","Michael Brown","Sarah Davis","Robert Wilson"],approvals:[{approverRole:"Reviewer",approverName:"John Doe",status:"approved",timestamp:"2025-07-31T10:00:00Z",comments:"Position requirements are well defined and align with team needs.",isRequired:!1},{approverRole:"Manager",approverName:"Bob Wilson",status:"pending",timestamp:null,comments:null,isRequired:!0,needsSupervisorSelection:!0,selectedSupervisor:void 0}]};currentUserRole="Manager";readonly=!1;showProgressBar=!0;showOptionalApprovals=!0;compactMode=!1;approvalSubmitted=new k;rejectionSubmitted=new k;supervisorSelected=new k;workflowStatusChanged=new k;approvalForm;rejectionForm;supervisorSelectionForm;selectedApproval=null;constructor(){}ngOnInit(){this.initializeForms(),this.calculateWorkflowStatus()}ngOnChanges(r){r.workflow&&this.workflow&&this.calculateWorkflowStatus()}initializeForms(){this.approvalForm=this.formBuilder.group({comments:[""]}),this.rejectionForm=this.formBuilder.group({comments:["",[I.required,I.minLength(10)]]}),this.supervisorSelectionForm=this.formBuilder.group({selectedSupervisor:["",I.required],comments:[""]})}get requiredApprovals(){return this.workflow?.approvals?.filter(r=>r.isRequired)||[]}get optionalApprovals(){return this.workflow?.approvals?.filter(r=>!r.isRequired)||[]}get completedRequired(){return this.requiredApprovals.filter(r=>r.status==="approved").length}get totalRequired(){return this.requiredApprovals.length}get progressPercentage(){return this.totalRequired===0?0:this.completedRequired/this.totalRequired*100}canUserApprove(r){return this.readonly?!1:r.approverName===this.getCurrentUserName()&&r.status==="pending"}getCurrentUserName(){return{Supervisor:"Jane Smith",Manager:"Bob Wilson",Reviewer:"John Doe"}[this.currentUserRole]||""}needsSupervisorSelection(r){return!!(r.needsSupervisorSelection&&r.status==="pending"&&this.canUserApprove(r))}getPdTypeDescription(r){switch(r){case"Custom PD":return"Requires approval from Supervisor and Manager";case"Standard PD":return"Requires approval from Manager only";case"Expert and Consultant":return"Requires Manager to select and get pre-approval from Supervisor";default:return""}}calculateWorkflowStatus(){if(!this.workflow)return;if(this.workflow.approvals.some(l=>l.status==="rejected")){this.workflow.status="rejected",this.workflowStatusChanged.emit("rejected");return}this.requiredApprovals.every(l=>l.status==="approved")?(this.workflow.status="approved",this.workflowStatusChanged.emit("approved")):(this.workflow.status="pending",this.workflowStatusChanged.emit("pending"))}openApprovalModal(r,e){this.readonly||(this.selectedApproval=e,this.approvalForm.reset(),this.modalService.open(r,{centered:!0}))}openRejectionModal(r,e){this.readonly||(this.selectedApproval=e,this.rejectionForm.reset(),this.modalService.open(r,{centered:!0}))}openSupervisorSelectionModal(r,e){this.readonly||(this.selectedApproval=e,this.supervisorSelectionForm.reset(),this.modalService.open(r,{centered:!0,size:"lg"}))}submitApproval(){if(!this.selectedApproval||this.approvalForm.invalid)return;let r=this.approvalForm.get("comments")?.value,e={pdId:this.workflow.pdId,approverRole:this.selectedApproval.approverRole,action:"approve",comments:r||void 0,timestamp:new Date().toISOString()};this.selectedApproval.status="approved",this.selectedApproval.timestamp=e.timestamp,this.selectedApproval.comments=r||null,this.calculateWorkflowStatus(),this.modalService.dismissAll(),this.approvalSubmitted.emit(e),this.selectedApproval=null}submitRejection(){if(!this.selectedApproval||this.rejectionForm.invalid)return;let r=this.rejectionForm.get("comments")?.value,e={pdId:this.workflow.pdId,approverRole:this.selectedApproval.approverRole,action:"reject",comments:r,timestamp:new Date().toISOString()};this.selectedApproval.status="rejected",this.selectedApproval.timestamp=e.timestamp,this.selectedApproval.comments=r,this.calculateWorkflowStatus(),this.modalService.dismissAll(),this.rejectionSubmitted.emit(e),this.selectedApproval=null}submitSupervisorSelection(){if(!this.selectedApproval||this.supervisorSelectionForm.invalid)return;let r=this.supervisorSelectionForm.get("selectedSupervisor")?.value,e=this.supervisorSelectionForm.get("comments")?.value,l={pdId:this.workflow.pdId,approverRole:this.selectedApproval.approverRole,action:"select-supervisor",comments:e||void 0,selectedSupervisor:r,timestamp:new Date().toISOString()};this.selectedApproval.selectedSupervisor=r,this.selectedApproval.status="approved",this.selectedApproval.timestamp=l.timestamp,this.selectedApproval.comments=e||`Pre-approved by selected supervisor: ${r}`;let c={approverRole:"Supervisor",approverName:r,status:"approved",timestamp:l.timestamp,comments:"Pre-approved through manager selection process",isRequired:!0};this.workflow.approvals.push(c),this.calculateWorkflowStatus(),this.modalService.dismissAll(),this.supervisorSelected.emit(l),this.selectedApproval=null}get rejectionCommentsControl(){return this.rejectionForm.get("comments")}get approvalCommentsControl(){return this.approvalForm.get("comments")}get supervisorSelectionControl(){return this.supervisorSelectionForm.get("selectedSupervisor")}get supervisorCommentsControl(){return this.supervisorSelectionForm.get("comments")}isRejectionFormValid(){return this.rejectionForm.valid}getRejectionErrorMessage(){let r=this.rejectionCommentsControl;return r?.hasError("required")?"Rejection reason is required":r?.hasError("minlength")?"Please provide at least 10 characters explaining the rejection":""}getStatusBadgeClass(r){switch(r){case"approved":return"badge-success";case"rejected":return"badge-danger";case"pending":return"badge-warning";default:return"badge-secondary"}}getStatusIcon(r){switch(r){case"approved":return"bi-check-circle-fill";case"rejected":return"bi-x-circle-fill";case"pending":return"bi-clock-fill";default:return"bi-question-circle"}}formatDate(r){return r?new Date(r).toLocaleString():""}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-approval-workflow"]],inputs:{workflow:"workflow",currentUserRole:"currentUserRole",readonly:"readonly",showProgressBar:"showProgressBar",showOptionalApprovals:"showOptionalApprovals",compactMode:"compactMode"},outputs:{approvalSubmitted:"approvalSubmitted",rejectionSubmitted:"rejectionSubmitted",supervisorSelected:"supervisorSelected",workflowStatusChanged:"workflowStatusChanged"},features:[T],decls:46,vars:15,consts:[["supervisorSelectionModal",""],["approvalModal",""],["rejectionModal",""],[1,"container-fluid","py-4"],[1,"row","mb-4"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"mb-1"],[1,"alert","alert-info","p-2","mt-2"],[1,"bi-info-circle"],[1,"col-md-4","text-md-end"],[1,"badge","fs-6","px-3","py-2",3,"ngClass"],["class","row mb-4",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"fw-bold"],["type","success",3,"value","striped","animated"],[1,"mb-3"],["class","col-md-6 mb-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-md-6","mb-3",3,"ngClass"],[1,"card","h-100",3,"ngClass"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge",3,"ngClass"],[1,"card-text","mb-2"],["class","mb-2",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"mb-2"],[1,"text-muted"],[1,"text-muted","d-block","mb-1"],[1,"alert","alert-light","p-2","mb-0"],[1,"mt-3"],[4,"ngIf"],["type","button",1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"bi-person-plus"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"bi-x-lg"],["type","button",1,"btn","btn-success","me-2",3,"click","disabled"],[1,"bi-check-lg"],[1,"bi-clock"],[1,"mt-2"],[1,"alert","alert-success","p-2"],[1,"card","h-100","border-info"],[1,"card-header","d-flex","justify-content-between","align-items-center","bg-light"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"alert","alert-info"],["for","supervisorSelect",1,"form-label"],[1,"text-danger"],["id","supervisorSelect","formControlName","selectedSupervisor",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["for","supervisorComments",1,"form-label"],["id","supervisorComments","rows","3","formControlName","comments","placeholder","Add any comments about the supervisor selection...",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi-person-check"],[3,"value"],[1,"invalid-feedback"],["for","approvalComments",1,"form-label"],["id","approvalComments","rows","3","formControlName","comments","placeholder","Add any comments about your approval...",1,"form-control"],["type","submit",1,"btn","btn-success"],[1,"alert","alert-warning"],[1,"bi-exclamation-triangle"],["for","rejectionComments",1,"form-label"],["id","rejectionComments","rows","4","formControlName","comments","placeholder","Please provide specific reasons for rejection...",1,"form-control"],[1,"form-text"],["type","submit",1,"btn","btn-danger",3,"disabled"]],template:function(e,l){e&1&&(n(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),i(6,"Position Description Approval"),t()(),n(7,"div",9)(8,"div",10)(9,"div",11)(10,"h5"),i(11),t(),n(12,"p",12)(13,"strong"),i(14,"PD ID:"),t(),i(15),t(),n(16,"p",12)(17,"strong"),i(18,"Type:"),t(),i(19),t(),n(20,"p",12)(21,"strong"),i(22,"Submitted by:"),t(),i(23),t(),n(24,"p",12)(25,"strong"),i(26,"Submitted:"),t(),i(27),t(),n(28,"div",13)(29,"small"),d(30,"i",14),i(31),t()()(),n(32,"div",15)(33,"span",16),d(34,"i"),i(35),h(36,"titlecase"),t()()()()()()(),_(37,ve,13,5,"div",17)(38,Se,6,1,"div",17)(39,Ae,6,1,"div",17),t(),_(40,je,29,6,"ng-template",null,0,y)(42,We,18,1,"ng-template",null,1,y)(44,Te,24,5,"ng-template",null,2,y)),e&2&&(a(11),C(l.workflow.pdTitle),a(4),m(" ",l.workflow.pdId,""),a(4),m(" ",l.workflow.pdType,""),a(4),m(" ",l.workflow.submittedBy,""),a(4),m(" ",l.formatDate(l.workflow.submittedDate),""),a(4),m(" ",l.getPdTypeDescription(l.workflow.pdType),""),a(2),p("ngClass",l.getStatusBadgeClass(l.workflow.status)),a(),O(l.getStatusIcon(l.workflow.status)),a(),m(" ",S(36,13,l.workflow.status)," "),a(2),p("ngIf",l.showProgressBar),a(),p("ngIf",l.requiredApprovals.length>0),a(),p("ngIf",l.optionalApprovals.length>0&&l.showOptionalApprovals))},dependencies:[E,B,U,A,G,ie,H,ee,te,Y,X,L,Q,Z,K,ae,re],styles:['.badge-success[_ngcontent-%COMP%]{background-color:#198754;color:#fff}.badge-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.badge-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#000}.badge-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.card[_ngcontent-%COMP%]{transition:box-shadow .15s ease-in-out}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .125rem .25rem #00000013}.card.border-success[_ngcontent-%COMP%]{border-color:#198754!important;border-width:2px}.card.border-danger[_ngcontent-%COMP%]{border-color:#dc3545!important;border-width:2px}.card.border-warning[_ngcontent-%COMP%]{border-color:#ffc107!important;border-width:2px}.card.border-info[_ngcontent-%COMP%]{border-color:#0dcaf0!important;border-width:1px;border-style:dashed}.btn[_ngcontent-%COMP%]{transition:all .15s ease-in-out}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.alert-light[_ngcontent-%COMP%]{background-color:#f8f9fa;border-color:#dee2e6;color:#495057}.bi-check-circle-fill[_ngcontent-%COMP%]:before{content:"\\f26a"}.bi-x-circle-fill[_ngcontent-%COMP%]:before{content:"\\f6b0"}.bi-clock-fill[_ngcontent-%COMP%]:before{content:"\\f28f"}.bi-check-lg[_ngcontent-%COMP%]:before{content:"\\f267"}.bi-x-lg[_ngcontent-%COMP%]:before{content:"\\f6b3"}.bi-clock[_ngcontent-%COMP%]:before{content:"\\f28e"}.bi-exclamation-triangle[_ngcontent-%COMP%]:before{content:"\\f33a"}.bi-info-circle[_ngcontent-%COMP%]:before{content:"\\f30f"}.bi-person-plus[_ngcontent-%COMP%]:before{content:"\\f4c1"}.bi-person-check[_ngcontent-%COMP%]:before{content:"\\f4bb"}ngb-progressbar[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{transition:width .6s ease}.modal-header[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-weight:600}.modal-footer[_ngcontent-%COMP%]{border-top:2px solid #dee2e6;padding:1rem}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem}.btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.375rem .75rem}.container-fluid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}.status-approved[_ngcontent-%COMP%]{background-color:#1987541a;border-left:4px solid #198754}.status-rejected[_ngcontent-%COMP%]{background-color:#dc35451a;border-left:4px solid #dc3545}.status-pending[_ngcontent-%COMP%]{background-color:#ffc1071a;border-left:4px solid #ffc107}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.btn[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #0d6efd40}.card-hover[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026;transform:translateY(-2px)}']})};function Fe(o,r){if(o&1&&(n(0,"span",55),i(1),t()),o&2){let e=s(2);a(),m("",e.approvalSummary.rejected," rejected")}}function De(o,r){if(o&1&&(F(0),n(1,"span",52),i(2),t(),n(3,"span",53),i(4),t(),_(5,Fe,2,1,"span",54),D()),o&2){let e=s();a(2),m("",e.approvalSummary.pending," pending"),a(2),m("",e.approvalSummary.approved," approved"),a(),p("ngIf",e.approvalSummary.rejected>0)}}var pe=class o{approvalWorkflow;title="Approval Workflow";workflowData=null;ngAfterViewInit(){this.refreshWorkflowData(),setInterval(()=>{this.refreshWorkflowData()},3e3)}refreshWorkflowData(){this.approvalWorkflow&&(this.workflowData=this.approvalWorkflow.workflow)}get workflowJson(){return JSON.stringify(this.workflowData,null,2)}get approvalSummary(){if(!this.workflowData)return null;let r=this.workflowData.approvals.filter(u=>u.status==="pending").length,e=this.workflowData.approvals.filter(u=>u.status==="approved").length,l=this.workflowData.approvals.filter(u=>u.status==="rejected").length,c=this.workflowData.approvals.length;return{pending:r,approved:e,rejected:l,total:c}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-approval"]],viewQuery:function(e,l){if(e&1&&V(M,5),e&2){let c;N(c=q())&&(l.approvalWorkflow=c.first)}},decls:114,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"h2","mb-1"],[1,"text-muted","mb-0"],[1,"d-flex","align-items-center"],[1,"bi","bi-check-circle-fill","text-success","fs-3"],["aria-label","breadcrumb",1,"mb-4"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/",1,"text-decoration-none"],[1,"bi","bi-house-door"],["aria-current","page",1,"breadcrumb-item","active"],[1,"bi","bi-check-circle"],[1,"row","mb-4"],[1,"col-md-3","col-sm-6","mb-3"],[1,"card","bg-primary","text-white","h-100"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"card-title"],[1,"mb-0"],[1,"bi","bi-clock-history","fs-2","opacity-75"],[1,"card","bg-success","text-white","h-100"],[1,"bi","bi-check-circle","fs-2","opacity-75"],[1,"card","bg-warning","text-white","h-100"],[1,"bi","bi-x-circle","fs-2","opacity-75"],[1,"card","bg-info","text-white","h-100"],[1,"bi","bi-bar-chart","fs-2","opacity-75"],[1,"card","shadow-sm"],[1,"card-header","bg-gradient"],[1,"d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0","text-white"],[1,"bi","bi-diagram-3"],["role","group",1,"btn-group"],["type","button",1,"btn","btn-outline-light","btn-sm"],[1,"bi","bi-plus-circle"],[1,"bi","bi-funnel"],[1,"card","shadow-sm","mt-4"],[1,"card-header","bg-dark","text-white"],[1,"card-title","mb-0"],[1,"bi","bi-code-square"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-light","btn-sm",3,"click"],[1,"bi","bi-arrow-clockwise"],[4,"ngIf"],[1,"card-body","p-0"],[1,"json-display","mb-0"],["role","alert",1,"alert","alert-info","mt-4"],[1,"alert-heading"],[1,"bi","bi-lightbulb"],[1,"mb-2"],[1,"badge","bg-warning"],[1,"badge","bg-success"],["class","badge bg-danger",4,"ngIf"],[1,"badge","bg-danger"]],template:function(e,l){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),i(6),t(),n(7,"p",5),i(8,"Streamline your approval processes"),t()(),n(9,"div",6),d(10,"i",7),t()(),n(11,"nav",8)(12,"ol",9)(13,"li",10)(14,"a",11),d(15,"i",12),i(16," Home "),t()(),n(17,"li",13),d(18,"i",14),i(19," Approval "),t()()(),n(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"div")(26,"h6",20),i(27,"Pending"),t(),n(28,"h3",21),i(29,"12"),t()(),d(30,"i",22),t()()()(),n(31,"div",16)(32,"div",23)(33,"div",18)(34,"div",19)(35,"div")(36,"h6",20),i(37,"Approved"),t(),n(38,"h3",21),i(39,"45"),t()(),d(40,"i",24),t()()()(),n(41,"div",16)(42,"div",25)(43,"div",18)(44,"div",19)(45,"div")(46,"h6",20),i(47,"Rejected"),t(),n(48,"h3",21),i(49,"3"),t()(),d(50,"i",26),t()()()(),n(51,"div",16)(52,"div",27)(53,"div",18)(54,"div",19)(55,"div")(56,"h6",20),i(57,"Total"),t(),n(58,"h3",21),i(59,"60"),t()(),d(60,"i",28),t()()()()(),n(61,"div",29)(62,"div",30)(63,"div",31)(64,"h5",32),d(65,"i",33),i(66," Approval Workflow Manager "),t(),n(67,"div",34)(68,"button",35),d(69,"i",36),i(70," New Request "),t(),n(71,"button",35),d(72,"i",37),i(73," Filter "),t()()()(),n(74,"div",18),d(75,"app-approval-workflow"),t()(),n(76,"div",38)(77,"div",39)(78,"div",31)(79,"h5",40),d(80,"i",41),i(81," Approval Workflow Data (JSON) "),t(),n(82,"div",42)(83,"button",43),v("click",function(){return l.refreshWorkflowData()}),d(84,"i",44),i(85," Refresh "),t(),_(86,De,6,3,"ng-container",45),t()()(),n(87,"div",46)(88,"pre",47)(89,"code"),i(90),t()()()(),n(91,"div",48)(92,"h6",49),d(93,"i",50),i(94," Workflow Tutorial Content "),t(),n(95,"p",51),i(96," This Approval Workflow page demonstrates advanced Angular component architecture and workflow management patterns. The workflow manager and JSON display showcase: "),t(),n(97,"ul",21)(98,"li"),i(99,"Workflow state management and visualization"),t(),n(100,"li"),i(101,"Component communication patterns"),t(),n(102,"li"),i(103,"Dashboard design with statistical cards"),t(),n(104,"li"),i(105,"Enterprise-level approval processes"),t(),n(106,"li"),i(107,"Real-time status updates and notifications"),t(),n(108,"li")(109,"strong"),i(110,"Complex data structure visualization and JSON formatting"),t()(),n(111,"li")(112,"strong"),i(113,"Dynamic badge display based on workflow status"),t()()()()()()()),e&2&&(a(6),C(l.title),a(80),p("ngIf",l.approvalSummary),a(4),C(l.workflowJson))},dependencies:[E,A,J,M],styles:[".container-fluid[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}h1.h2[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;margin-bottom:.5rem}.text-muted[_ngcontent-%COMP%]{font-size:1.1rem}.breadcrumb[_ngcontent-%COMP%]{background-color:#00000008;border-radius:8px;padding:.75rem 1rem}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6c757d;transition:color .3s ease}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0d6efd}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#495057;font-weight:500}.card[_ngcontent-%COMP%]{border:none;border-radius:12px;overflow:hidden;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #00000026}.card-body[_ngcontent-%COMP%]{position:relative}.card.bg-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0d6efd,#0056b3)!important}.card.bg-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#198754,#146c43)!important}.card.bg-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#d39e00)!important}.card.bg-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0dcaf0,#0aa2c0)!important}.card-header.bg-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6f42c1,#5a32a3)!important;border-bottom:none;padding:1.25rem 1.5rem}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600}.btn-outline-light[_ngcontent-%COMP%]{border-color:#ffffff80;color:#fff;transition:all .3s ease}.card-body[_ngcontent-%COMP%]{padding:2rem 1.5rem}.alert-info[_ngcontent-%COMP%]{border:none;border-radius:10px;background:linear-gradient(135deg,#e3f2fd,#f8f9fa);border-left:4px solid #6f42c1;padding:1.5rem}.alert-heading[_ngcontent-%COMP%]{color:#6f42c1;font-weight:600;margin-bottom:1rem}.alert-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1.5rem}.alert-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#495057}.bi[_ngcontent-%COMP%]{margin-right:.5rem}.fs-3[_ngcontent-%COMP%]{opacity:.8}.fs-2[_ngcontent-%COMP%]{font-size:2rem!important}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:0}.card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}@media (max-width: 768px){.d-flex.justify-content-between[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start!important;gap:1rem}.card-body[_ngcontent-%COMP%]{padding:1.5rem 1rem}.alert-info[_ngcontent-%COMP%]{padding:1rem}.btn-group[_ngcontent-%COMP%]{width:100%}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem}}@media (max-width: 576px){.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.75rem}.fs-2[_ngcontent-%COMP%]{font-size:1.5rem!important}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.container-fluid[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease forwards}.container-fluid[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.container-fluid[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.container-fluid[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.container-fluid[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.container-fluid[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]:nth-child(1)   .card[_ngcontent-%COMP%]{animation-delay:.3s}.row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]:nth-child(2)   .card[_ngcontent-%COMP%]{animation-delay:.4s}.row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]:nth-child(3)   .card[_ngcontent-%COMP%]{animation-delay:.5s}.row[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]:nth-child(4)   .card[_ngcontent-%COMP%]{animation-delay:.6s}.json-display[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#d4d4d4;font-family:Courier New,Monaco,Lucida Console,monospace;font-size:.875rem;line-height:1.5;padding:1.5rem;margin:0;overflow-x:auto;max-height:500px;overflow-y:auto;border-radius:0 0 12px 12px;white-space:pre-wrap;word-break:break-all}.json-display[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;color:inherit;font-size:inherit;padding:0}.card-header.bg-dark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#343a40,#212529)!important;border-bottom:1px solid #495057}.btn-outline-light[_ngcontent-%COMP%]{border-color:#ffffff80;color:#fff;transition:all .3s ease;font-size:.875rem}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#fff3;border-color:#fff;color:#fff;transform:translateY(-1px)}.badge.bg-warning[_ngcontent-%COMP%]{background-color:#ffc107!important;color:#000;font-size:.75rem;padding:.5rem .75rem}.badge.bg-success[_ngcontent-%COMP%]{background-color:#198754!important;font-size:.75rem;padding:.5rem .75rem}.badge.bg-danger[_ngcontent-%COMP%]{background-color:#dc3545!important;font-size:.75rem;padding:.5rem .75rem}.json-display[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.json-display[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#2d2d30;border-radius:4px}.json-display[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#464647;border-radius:4px}.json-display[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6a6a6b}.card[_ngcontent-%COMP%]:hover   .json-display[_ngcontent-%COMP%]{box-shadow:inset 0 0 20px #6c42c11a}.d-flex.gap-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:center}.d-flex.gap-2[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-left:.25rem}@media (max-width: 768px){.json-display[_ngcontent-%COMP%]{font-size:.75rem;padding:1rem;max-height:350px}.card-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem;align-items:flex-start!important}.d-flex.gap-2[_ngcontent-%COMP%]{flex-direction:row;width:100%;justify-content:space-between;flex-wrap:wrap;gap:.5rem}.btn-outline-light[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem .75rem}.badge[_ngcontent-%COMP%]{font-size:.7rem!important;padding:.375rem .5rem!important}}.container-fluid[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > .col-12[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}"]})};export{pe as ApprovalComponent};
